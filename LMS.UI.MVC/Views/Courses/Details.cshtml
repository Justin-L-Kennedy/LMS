@model LMS.DATA.EF.Course

@{
    ViewBag.Title = $"{Model.CourseName}";
}

<!-- page title -->
<section class="page-title-section overlay" data-background="/Content/images/backgrounds/page-title.jpg">
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <ul class="list-inline custom-breadcrumb">
                    <li class="list-inline-item"><a class="h2 text-primary font-secondary" href="@Url.Action("Index")">Our Courses</a></li>
                    <li class="list-inline-item text-white h3 font-secondary nasted">@ViewBag.Title</li>
                </ul>
                <p class="text-lighten">Our courses offer aspiring actors the opportunity to gain a better understanding of the entertainment industry and how to jump-start a successful career in acting.</p>
            </div>
        </div>
    </div>
</section>
<!-- /page title -->
<!-- section -->
<section class="section-sm">
    <div class="container">
        <div class="row">
            <div class="col-12 mb-4">
                <!-- course thumb -->
                <img src="~/Content/images/courses/@Model.CourseImage" alt="@Model.CourseName" title="@Model.CourseName" class="img-fluid w-100">
            </div>
        </div>
        <!-- course info -->
        <div class="row align-items-center mb-5">
            <div class="col-xl-5 order-1 col-sm-6 mb-4 mb-xl-0">
                <h2>@Model.CourseName</h2>
            </div>
            <div class="col-xl-5 order-sm-3 order-xl-2 col-12 order-2">
                <ul class="list-inline text-xl-center">
                    <li class="list-inline-item mr-4 mb-3 mb-sm-0">
                        <div class="d-flex align-items-center">
                            <i class="ti-alarm-clock text-primary icon-md mr-2"></i>
                            <div class="text-left">
                                <h6 class="mb-0">LESSONS</h6>
                                <div class="mt-1">
                                    <a class="text-color mb-0" href="@Url.Action("Index", "LessonViews")">@(ViewBag.LessonViewsCount == null ? "0" : ViewBag.LessonViewsCount) of @Model.Lessons.Count Completed</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="list-inline-item mr-4 mb-3 mb-sm-0">
                        <div class="d-flex align-items-center">
                            <i class="ti-calendar text-primary icon-md mr-2"></i>
                            <div class="text-left">
                                <h6 class="mb-0">COURSE</h6>
                                <div class="mt-1">
                                    <a class="text-color mb-0" href="@Url.Action("Index", "CourseCompletions")">
                                        @if (Model.DateCompleted == new DateTime(0001, 1, 1))
                                        {
                                            @($"Incomplete")
                                        }
                                        else
                                        {
                                            @($"Completed: {Model.DateCompleted:d}")
                                        }
                                    </a>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="col-xl-2 text-sm-right text-left order-sm-2 order-3 order-xl-3 col-sm-6 mb-4 mb-xl-0">
                <a href="@Url.Action("Index", "Lessons", new { id = Model.CourseID })" class="btn btn-primary">Lessons</a>
            </div>
            <!-- border -->
            <div class="col-12 mt-4 order-4">
                <div class="border-bottom border-primary"></div>
            </div>
        </div>
        <!-- course details -->
        <div class="row">
            <div class="col-12 mb-4">
                <h3>About Course</h3>
                <p>
                    @Model.CourseDescription
                </p>
            </div>
            <div class="col-12 mb-4">
                <h3 class="mb-3">Lessons</h3>
                <div class="col-12 px-0">
                    <div class="row">
                        <div class="col-md-12">
                            <ul class="list-styled">
                                @foreach (var item in Model.Lessons)
                                {
                                    <li>
                                        <a class="text-color" href="@Url.Action("Details", "Lessons", new { id = item.LessonID })"><strong>@item.LessonTitle</strong> - 
                                        @if (item.DateViewed == new DateTime(0001, 1, 1))
                                        {
                                            @($"Incomplete")
                                        }
                                        else
                                        {
                                            @($"Completed: {item.DateViewed:d}")
                                        }
                                        </a>
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- course details -->
    </div>
</section>
<!-- /section -->
